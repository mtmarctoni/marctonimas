---
import "../styles/global.css";

import Layout from "@/layouts/Layout.astro";
import Hero from "@/components/sections/Hero.vue";
import About from "@/components/sections/About.vue";
import Skills from "@/components/sections/Skills.vue";
import Projects from "@/components/sections/Projects.vue";
import Background from "@/components/sections/Background.vue";
import Contact from "@/components/sections/Contact.vue";
import BlockchainCanvas from "@/components/BlockchainCanvas.vue";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<Layout title={t("site.title")} lang={lang}>
  <div class="relative">
    <BlockchainCanvas client:load client:only="canvas" />
    <Hero client:load client:only="hero" />
  </div>
  <About client:visible client:only="about" />
  <Skills client:visible client:only="skills" />
  <Projects client:visible client:only="projects" />
  <Background client:visible client:only="background" />
  <Contact client:visible client:only="contact" />
</Layout>
