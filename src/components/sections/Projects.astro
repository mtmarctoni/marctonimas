---
import { Image } from "astro:assets";
import SectionContainer from "../containers/SectionContainer.astro";
import { useTranslations, getLangFromUrl } from "@/i18n/utils";

const url = new URL(Astro.url);
const lang = getLangFromUrl(url);
const t = useTranslations(lang);

const projects = [
  {
    id: 1,
    title: t("projects.project1.title"),
    description: t("projects.project1.description"),
    image: "",

    tags: ["Solidity", "React", "Ethers.js", "Hardhat", "IPFS"],
    demoUrl: "#",
    codeUrl: "#",
  },
  {
    id: 2,
    title: t("projects.project2.title"),
    description: t("projects.project2.description"),
    image: "",

    tags: ["DeFi", "Solidity", "React", "Web3.js", "Truffle"],
    demoUrl: "#",
    codeUrl: "#",
  },
  {
    id: 3,
    title: t("projects.project3.title"),
    description: t("projects.project3.description"),
    image: "",

    tags: ["NFT", "Marketplace", "React", "Solidity", "IPFS"],
    demoUrl: "#",
    codeUrl: "#",
  },
  {
    id: 4,
    title: t("projects.project4.title"),
    description: t("projects.project4.description"),
    image: "",

    tags: ["DAO", "Governance", "React", "Solidity", "The Graph"],
    demoUrl: "#",
    codeUrl: "#",
  },
  {
    id: 5,
    title: t("projects.project5.title"),
    description: t("projects.project5.description"),
    image: "",
    tags: ["Smart Contract", "Security", "Auditing", "Solidity"],
    demoUrl: "#",
    codeUrl: "#",
  },
  {
    id: 6,
    title: t("projects.project6.title"),
    description: t("projects.project6.description"),
    image: "/default-web3-image.jpg",
    tags: ["Layer 2", "Scaling", "Optimism", "React"],
    demoUrl: "#",
    codeUrl: "#",
  },
];
---

<SectionContainer sectionId="projects">
  <h2 class="text-3xl font-bold mb-12 text-center">
    {t("projects.title")}
  </h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-3.5">
    {
      projects.map((project) => (
        <div class="bg-bg-secondary rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-transform ease-in-out duration-750 border border-fg-alt group hover:scale-108">
          <div class="relative h-48 overflow-hidden">
            <Image
              src={project.image || "/default-web3-image.jpg"}
              alt={project.title}
              width={500}
              height={300}
              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            />
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4">
              <div class="flex gap-2">
                <a
                  href={project.demoUrl}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="px-3 py-1 bg-accent text-gray-200 rounded-full text-sm font-medium hover:bg-accent/50 transition-colors hover:text-white"
                >
                  {t("projects.live_demo")}
                </a>
                <a
                  href={project.codeUrl}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="px-3 py-1 bg-primary text-gray-300 rounded-full text-sm font-medium hover:bg-primary/50 transition-colors hover:text-white"
                >
                  {t("projects.view_code")}
                </a>
              </div>
            </div>
          </div>

          <div class="p-6">
            <h3 class="text-xl font-bold mb-2">{project.title}</h3>
            <p class="text-fg mb-4">{project.description}</p>

            <div class="flex flex-wrap gap-2 mb-4">
              {project.tags.map((tag) => (
                <span class="px-2 py-1 bg-bg-alt text-fg rounded-md text-xs">
                  {tag}
                </span>
              ))}
            </div>
          </div>
        </div>
      ))
    }
  </div>
</SectionContainer>
