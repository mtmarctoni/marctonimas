---
import SectionContainer from "@/components/containers/SectionContainer.astro";
import { useTranslations, getLangFromUrl } from "@/i18n/utils";
import { CodeIcon, RocketIcon, ToolsIcon } from "@/utils/icons"; // Assuming you have these

const url = new URL(Astro.url);
const lang = getLangFromUrl(url);
const t = useTranslations(lang);
---

<SectionContainer sectionId="background">
  <h2 class="text-3xl font-bold mb-8 text-center">
    <span
      class="bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent"
    >
      {t("background.title")}
    </span>
  </h2>

  <!-- Career Transition Story -->
  <div class="mb-10">
    <h3 class="text-xl font-bold mb-4 flex items-center">
      <RocketIcon class="w-6 h-6 mr-3 text-primary" />
      {t("background.career_transition_title")}
    </h3>
    <p class="text-fg leading-relaxed">
      {t("background.career_transition_description")}
    </p>
  </div>

  <!-- Relevant Technical Experience -->
  <div class="mb-10">
    <h3 class="text-xl font-bold mb-4 flex items-center">
      <CodeIcon class="w-6 h-6 mr-3 text-primary" />
      {t("background.relevant_experience_title")}
    </h3>

    <div class="space-y-6">
      <div
        class="bg-bg-alt/50 rounded-lg p-5 border border-fg-alt/5 hover:border-primary/20 transition-all duration-300"
      >
        <div
          class="flex flex-col md:flex-row md:items-center md:justify-between mb-2"
        >
          <h4 class="text-lg font-bold">Software Development & Automation</h4>
          <span
            class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm"
          >
            2021-2024
          </span>
        </div>
        <ul class="list-disc pl-5 space-y-2 text-fg-alt">
          <li>
            Led software development initiatives, creating custom tools using
            JavaScript
          </li>
          <li>
            Developed comprehensive data analysis systems with automated
            reporting
          </li>
          <li>
            Implemented automated solutions for project monitoring and
            optimization
          </li>
          <li>
            Created custom software for technical studies using Excel and VBA
          </li>
        </ul>
      </div>

      <div
        class="bg-bg-alt/50 rounded-lg p-5 border border-fg-alt/5 hover:border-primary/20 transition-all duration-300"
      >
        <div
          class="flex flex-col md:flex-row md:items-center md:justify-between mb-2"
        >
          <h4 class="text-lg font-bold">Technical Leadership</h4>
          <span
            class="px-3 py-1 bg-primary/10 text-primary rounded-full text-sm"
          >
            2022-2024
          </span>
        </div>
        <ul class="list-disc pl-5 space-y-2 text-fg-alt">
          <li>
            Led technical department operations and innovation initiatives
          </li>
          <li>Managed end-to-end technical operations for complex projects</li>
          <li>
            Optimized system efficiency through technical design and equipment
            selection
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Transferable Skills -->
  <div class="mb-10">
    <h3 class="text-xl font-bold mb-4 flex items-center">
      <ToolsIcon class="w-6 h-6 mr-3 text-primary" />
      {t("background.transferable_skills_title")}
    </h3>

    <div class="flex flex-wrap gap-3">
      <span class="px-3 py-1 bg-tertiary/10 text-tertiary rounded-full text-sm"
        >JavaScript</span
      >
      <span class="px-3 py-1 bg-tertiary/10 text-tertiary rounded-full text-sm"
        >Data Analysis</span
      >
      <span class="px-3 py-1 bg-tertiary/10 text-tertiary rounded-full text-sm"
        >Automation</span
      >
      <span class="px-3 py-1 bg-tertiary/10 text-tertiary rounded-full text-sm"
        >Technical Leadership</span
      >
      <span class="px-3 py-1 bg-tertiary/10 text-tertiary rounded-full text-sm"
        >Project Management</span
      >
      <span class="px-3 py-1 bg-tertiary/10 text-tertiary rounded-full text-sm"
        >System Optimization</span
      >
      <span class="px-3 py-1 bg-tertiary/10 text-tertiary rounded-full text-sm"
        >Software Development</span
      >
    </div>
  </div>

  <!-- View Full Background Button -->
  <div class="flex justify-center mt-8">
    <a
      href={lang === "es" ? "/es/background" : "/background/"}
      class="group flex items-center gap-2 bg-bg-alt px-6 py-3 rounded-full border border-fg-alt/10 hover:border-primary/30 transition-all duration-300 hover:shadow-md"
    >
      <span>{t("background.view_full_background")}</span>
      <span
        class="w-4 h-4 group-hover:translate-x-1 transition-transform duration-300"
        >â†’</span
      >
    </a>
  </div>
</SectionContainer>
